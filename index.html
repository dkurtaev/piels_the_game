<!DOCTYPE html>
<html>

<head>
  <style>
    canvas {
      image-rendering: optimizeSpeed;
      image-rendering: -moz-crisp-edges;
      image-rendering: -webkit-optimize-contrast;
      image-rendering: -o-crisp-edges;
      image-rendering: pixelated;
      -ms-interpolation-mode: nearest-neighbor;
    }
  </style>
  <script src="scripts/game_field.js"></script>
  <script src="scripts/shaders_factory.js"></script>

  <!-- Shaders. -->
  <script id="default_vert_shader" type="x-shader/x-vertex">
    attribute vec2 a_position;
    attribute vec2 a_tex_coords;

    varying vec2 v_tex_coords;

    void main() {
      v_tex_coords = a_tex_coords;
      gl_Position = vec4(a_position, 0.0, 1.0);
    }
  </script>

  <script id="default_frag_shader" type="x-shader/x-fragment">
    precision mediump float;

    uniform sampler2D u_heights_map;
    uniform sampler2D u_slice_tex;

    varying vec2 v_tex_coords;

    void main() {
      float height = texture2D(u_heights_map, v_tex_coords)[0];
      gl_FragColor = texture2D(u_slice_tex, vec2(height, 0.0));
    }
  </script>

</head>

<body>
  <canvas id="glcanvas"></canvas>
  <script>
    try {
      var field = new gameField("glcanvas");
    } catch (err) {
      window.alert(err.message);
    }
  </script>
</body>

</html>
